
      {{ if eq .Kind "section" }}
        </div> <!-- end chapter-->
      {{ end }}
      </div>
    </div>

    {{ with .Site.Params.menu }}
      {{ range $index, $element := . }}
        {{ with index $.Site.Params.menu (sub $index 1)}}
          {{ $prev := index (last 1 (index $.Site.Sections .)) 0 }}
          {{ $.Scratch.SetInMap $element "prev" $prev }}
        {{ end }}
        {{ with index $.Site.Params.menu (add $index 1)}}
          {{ $next := index (first 1 (index $.Site.Sections .)) 0 }}
          {{ $.Scratch.SetInMap $element "next" $next }}
        {{ end }}
      {{ end }}
    {{ else }}
      {{ range $key, $section := $.Site.Sections }}
        {{ with $prevSec := $.Scratch.Get "prevIter"}}
          {{ with index $.Site.Sections . }}
            {{ $.Scratch.SetInMap $key "prev" (index (last 1 .) 0) }}
            {{ $.Scratch.SetInMap $prevSec "next" (index (first 1 $section) 0) }}
          {{ end }}
        {{ end }}
        {{ $.Scratch.Set "prevIter" $key }}
      {{ end }}
    {{ end }}
    <div id="navigation">
        {{ $secpages := sort (where .Site.RegularPages "Section" .Section) "Weight" }}
        {{ range $index, $element := $secpages }}
          {{if eq $element.UniqueID $.UniqueID }}
            {{ if not (isset $.Params "prev") }}
              {{ with index $secpages (sub $index 1) | default ($.Scratch.Get $.Section).prev.Page}}
                <a class="nav nav-prev" href="{{ $.Site.BaseURL }}{{ .URL }}"> <i class="fa fa-chevron-left"></i></a>
              {{ end }}
            {{ end }}
            {{ if not (isset $.Params "next") }}
              {{ with index $secpages (add $index 1) | default ($.Scratch.Get $.Section).next.Page}}
                <a class="nav nav-next" href="{{ $.Site.BaseURL }}{{ .URL }}" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
              {{ end }}
            {{ end }}
          {{ end }}
        {{ end }}
        {{ with .Params.prev }}<a class="nav nav-prev" href="{{ $.Site.BaseURL }}{{ . }}"> <i class="fa fa-chevron-left"></i></a>{{ end }}
        {{ with .Params.next }}<a class="nav nav-next" href="{{ $.Site.BaseURL }}{{ . }}" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>{{ end }}
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="{{ .Site.BaseURL }}/js/clipboard.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/perfect-scrollbar.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/jquery.sticky-kit.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/featherlight.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/html5shiv-printshiv.min.js"></script>
    <script src="{{ .Site.BaseURL }}/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="{{ .Site.BaseURL }}/js/modernizr.custom.71422.js"></script>
    <script src="{{ .Site.BaseURL }}/js/learn.js"></script>
    <script src="{{ .Site.BaseURL }}/js/hugo-learn.js"></script>
    {{ partial "script.html" . }}
  </body>
</html>
